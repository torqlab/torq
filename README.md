![One athlete is running. Another athlete is riding a road bicycle. Minimalistic style with dark colour tones.](./banner-thin.webp)

[![Netlify Status](https://api.netlify.com/api/v1/badges/7b8eb9b4-63e0-43e5-87d4-473958dd27ae/deploy-status)](https://app.netlify.com/projects/pace-ui/deploys)

[![Netlify Status](https://api.netlify.com/api/v1/badges/c1078a73-683e-4313-8e7c-2911d555c7f0/deploy-status)](https://app.netlify.com/projects/paceapi/deploys)

[![Verify (All Packages)](https://github.com/mrbalov/pace/actions/workflows/verify.yml/badge.svg)](https://github.com/mrbalov/pace/actions/workflows/verify.yml)

[![Validate All Specs with OpenSpec (Static Validation)](https://github.com/mrbalov/pace/actions/workflows/specs-validate-with-openspec.yml/badge.svg)](https://github.com/mrbalov/pace/actions/workflows/specs-validate-with-openspec.yml)

[![Validate Specs with AI](https://github.com/mrbalov/pace/actions/workflows/specs-validate-with-ai.yml/badge.svg)](https://github.com/mrbalov/pace/actions/workflows/specs-validate-with-ai.yml)

# PACE (Strava Activity Image Generator)

**PACE** (**P**ersonal **A**ctivity **C**anvas **E**ngine) is an AI-powered [Strava](https://www.strava.com/) activity image generator that automatically turns your workouts into visually compelling images. It analyzes activity data and context to create shareable, expressive visuals for each Strava activity, helping athletes present their performance and stories in a more engaging and personalized way.

> **Note:** This project is being developed and supported in collaboration with AIs.

## Specification Validation Workflows

GitHub Actions workflows serve as the canonical validation, so no separate local test command is required. Validation happens entirely in CI using a two-stage workflow:

- **Static OpenSpec validation** – runs the OpenSpec CLI against the repository, renders totals and a table showing every validated spec, and exposes the raw JSON for follow-on jobs. Failures block the run and unlock an AI fix pipeline that requires manual approval.
- **AI validation** – scopes to the official `openspec/specs` tree, keeps a detailed table of each validated spec even when there are no violations, and logs prompts/notes for debugging. Only the tracked spec files are shown in the summary, and the job still reports every violation it finds.
- **AI-based violation fixing** – triggered via a reusable workflow once validation fails and approval is granted. It runs CodeMie with the validation summary, captures the suggested changes, and opens a PR that clearly states it was generated by the agent.

Key Points:
- Both validations run in PARALLEL
- AI needs approval BEFORE it runs
- View results in GitHub Actions Summary
- PR merge re-triggers both workflows

```
┌────────────────────────────────────────────────────────────┐
│ Developer Action: Push to main, open PR, or Manual Trigger │
│ (changes to openspec/**, workflows, validation packages)   │
└───────────────────┬────────────────────────────────────────┘
                    ├─────────────────────┐
                    ▼                     ▼
        ┌───────────────────┐ ┌───────────────────┐
        │ OpenSpec          │ │ AI Validation     │
        │ Static Validation │ │ (requires manual  │
        │ (runs auto)       │ │ approval first)   │
        └─────┬─────────────┘ └───────┬───────────┘
    ┌─────────┴──────────┐       ┌────┴────────────┐
    ▼                    ▼       ▼                 ▼
  PASS                  FAIL    FAIL              PASS
    │                    │       │                 │      
    │                    ▼       ▼                 │      
    │             ┌──────────────────┐             │
    │             │ Approve OpenSpec │             │
    │             │ fix (manual)     │             │
    │             └────┬─────────────┘             │
    │               Approved                       │
    │                  │                           │
    │                  ▼                           │
    │             ┌──────────────────┐             │
    │             │ AI Fix           │             │
    │             └────┬─────────────┘             │
    │                  │                           │
    │             ┌──────────────────┐             │
    │             │ PR created:      │             │
    │             │ agent/specs-fix- │             │
    │             │ {run_id}         │             │ 
    │             └────┬─────────────┘             │
    │                  │                           │
    │                  ▼                           │
    │             ┌──────────────────┐             │
    │             │ Developer reviews│             │
    │             │ & merges PR      │             │
    │             └────┬─────────────┘             │
    └──────────────────┴───────────────────────────└──► DONE

Workflow Details:
┌────────────────────────────────────────────┐
│ OpenSpec Static                            │
│ • Scope: openspec/specs/                   │
│ • Output: Table of all specs               │
│ • On fail: Unlocks AI fix approval         │
├────────────────────────────────────────────┤
│ AI Validation                              │
│ • Approval: BEFORE running                 │
│ • Scope: openspec/specs/                   │
│ • Output: Detailed spec table              │
│ • On fail: Unlocks fix approval            │
├────────────────────────────────────────────┤
│ Fix Workflow                               │
│ • Approval: AFTER validation fails         │
│ • Action: Agent creates PR                 │
│ • Result: Dev reviews → merge → re-trigger │
└────────────────────────────────────────────┘
```
